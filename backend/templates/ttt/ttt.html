{% extends 'base.html' %}
{% load static %}

{% block title %}TicTacToe{% endblock %}


{% block content %}

<div id="ttt" class="container ttt-container" style="display: none;">
    <h1>Tic Tac Toe</h1>
    <div class="player-info">
        <div id="player1" class="player">
            <h2>Player 1</h2>
            <div id="player1-name">{{ user.username }}</div>
        </div>
        <div id="current-player-container">
            <div id="current-player"></div>
        </div>
        <div id="player2" class="player">
            <h2>Player 2</h2>
            <div id="player2-name"></div>
        </div>
    </div>
    <div id="game"></div>
    <div id="result"></div>
</div>

<!-- Opponent Modal -->
<div id="opponentModal" class="modal fade" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="opponentModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" style="max-width: 700px;">
        <div class="modal-content">
            <div class="modal-header justify-content-center">
                <h1 class="modal-title text-center silk-heavy" id="opponentModalLabel">Tic-Tac-Toe</h1>
            </div>
            <div class="modal-body p-3">
                <form id="opponentForm">
                    {% csrf_token %}
                    <label for="opponent-name" class="form-label">Opponent Name*</label>
                    <input type="text" class="form-control" id="opponent-name" name="opponent_name"
                        pattern="[a-zA-z0-9_]+" maxlength="20" required placeholder="Enter opponent name here">
                </form>
            </div>
            <div class="modal-footer justify-content-center">
                <a class="btn btn-secondary spa-link silk-heavy" href="{% url 'home' %}" data-method="GET"
                    data-bs-dismiss="modal">Cancel</a>
                <button type="submit" class="btn btn-accent silk-heavy" form="opponentForm">Start</button>
            </div>
        </div>
    </div>
</div>

{% endblock content %}
